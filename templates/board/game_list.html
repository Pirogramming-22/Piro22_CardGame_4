{% extends "base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/start_game.css' %}" />
<div class="game-history-container">
  <h2 class="player-info">
    í˜„ì¬ í”Œë ˆì´ì–´: <span>{{ request.user.username }}</span>
  </h2>

  <div class="game-list">
    {% for game in games_as_attacker %}
    <div class="game-item">
      <div class="game-details">
        <span class="game-id"
          >{{ forloop.counter }} - {{ game.attacker_id.username }} VS {{
          game.defender_id.username }}</span
        >
        <span class="game-status">
          {% if game.status == 'ì§„' and not game.defend_num %} ì§„í–‰ ì¤‘... {% if
          game.attacker_id == request.user %}
          <a href="{% url 'board:cancel_game' game.id %}" class="action-button"
            >ê²Œì„ ì·¨ì†Œ</a
          >
          {% elif game.defender_id == request.user %}
          <a
            href="{% url 'board:counter_attack' game.id %}"
            class="action-button"
            >CounterAttack</a
          >
          {% endif %} {% if game.status == 'ì¢…' %} ê²°ê³¼: {% elif game.result ==
          "A" and game.attacker_id == request.user %} ğŸ‘‘ğŸ‘‘ ìŠ¹ë¦¬ ğŸ‘‘ğŸ‘‘ {% elif
          game.result == "D" and game.defender_id == request.user %} ğŸ‘‘ğŸ‘‘ ìŠ¹ë¦¬
          ğŸ‘‘ğŸ‘‘ {% elif game.result == "A" and game.defender_id == request.user
          %} ğŸ˜­ íŒ¨ë°° ğŸ˜­ {% elif game.result == "D" and game.attacker_id ==
          request.user %} ğŸ˜­ íŒ¨ë°° ğŸ˜­ {% else %} ë¬´ìŠ¹ë¶€ {% endif %}
        </span>
      </div>
      <a href="{% url 'board:board_info' game.id %}" class="info-button"
        >ê²Œì„ ì •ë³´</a
      >
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
